[tools]
lychee = "0.22.0"
node = "24.13.1"
"npm:renovate" = "43.25.8"

[env]
RENOVATE_TRACKED_DEPS_EXCLUDE="github-actions,github-runners"
# renovate: datasource=docker depName=ghcr.io/super-linter/super-linter
SUPER_LINTER_VERSION="slim-v8.4.0@sha256:8421cd4687937ac32a829539d03de51a147c164b42842cbfb20aada83ce1bb0c"

# Dogfood our own lint tasks - use local file paths
[tasks."lint:super-linter"]
description = "Run Super-Linter on the repository"
file = "tasks/lint/super-linter.sh"

[tasks."lint:links"]
description = "Check for broken links in changed files + all local links"
file = "tasks/lint/links.sh"

[tasks."lint:renovate-deps"]
description = "Verify renovate-tracked-deps.json is up to date"
file = "tasks/lint/renovate-deps.py"

[tasks."lint"]
description = "Run all lints"
depends = ["lint:super-linter", "lint:links", "lint:renovate-deps"]

[tasks.fix]
description = "Auto-fix lint issues and regenerate tracked deps"
run = "AUTOFIX=true mise run lint"
