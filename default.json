{
	"$schema": "https://docs.renovatebot.com/renovate-schema.json",
	"description": "Renovate custom managers for repositories that use flint mise tasks",
	"customManagers": [
		{
			"customType": "regex",
			"description": "Update _VERSION variables in mise.toml",
			"managerFilePatterns": ["/^mise\\.toml$/"],
			"matchStrings": [
				"# renovate: datasource=(?<datasource>[a-z-]+?)(?: depName=(?<depName>.+?))?(?: packageName=(?<packageName>.+?))?(?: versioning=(?<versioning>[a-z-]+?))?\\s.+?_VERSION=\"?(?<currentValue>[^@\"]+?)(?:@(?<currentDigest>sha256:[a-f0-9]+))?\"?\\s"
			]
		},
		{
			"customType": "regex",
			"description": "Update raw.githubusercontent.com URLs pinned to SHA with version comment",
			"managerFilePatterns": ["/^mise\\.toml$/"],
			"matchStrings": [
				"https://raw\\.githubusercontent\\.com/(?<depName>[^/]+/[^/]+)/(?<currentDigest>[a-f0-9]{40})/.*#\\s*(?<currentValue>v\\S+)"
			],
			"datasourceTemplate": "github-tags"
		}
	],
	"packageRules": [
		{
			"matchPackageNames": ["renovate"],
			"description": "Only update renovate once a week",
			"schedule": ["before 6am on Monday"]
		}
	]
}
